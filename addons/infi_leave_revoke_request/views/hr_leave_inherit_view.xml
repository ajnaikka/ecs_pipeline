<odoo>
    <record id="view_employee_revoke_leave_request_form" model="ir.ui.view">
        <field name="name">view.employee.revoke.leave.request.form</field>
        <field name="model">hr.leave</field>
        <field name="inherit_id" ref="hr_holidays.hr_leave_view_form"/>
        <field name="arch" type="xml">
            <xpath expr="//header" position="inside">
                <button name="%(infi_leave_revoke_request.action_button_request_for_revoke_leave)d"
                        type="action"
                        class="oe_highlight" string="Request To Revoke Approved Leave" invisible="not active or state != 'validate'"
                        groups="!infinous_user_groups.reporting_manager"/>
            </xpath>

            <xpath expr="//button[@name='action_draft']" position="replace">
                <button string="Revoking Applied Leave" name="action_draft" type="object"
                        invisible="state not in ['confirm', 'refuse']" />
            </xpath>

            <xpath expr="//field[@name='name']" position="after">
                <field string="Refusing Reason" name="reason"
                       invisible="state != 'refuse'"/>
            </xpath>
            <xpath expr="//button[@name='action_refuse']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//button[@name='action_cancel']" position="attributes">
                    <attribute name="invisible">1</attribute>
            </xpath>

            <xpath expr="//button[@name='action_approve']" position="attributes">
                    <attribute name="groups">infinous_user_groups.reporting_manager</attribute>
            </xpath>
            <xpath expr="//button[@name='action_refuse']" position="after">
                <button string="Refuse" name="action_refusing_dup" type="object"
                        invisible="not active or not can_approve or state not in ('confirm', 'validate1', 'validate')" groups="infinous_user_groups.reporting_manager"/>
            </xpath>
        </field>
    </record>

    <record model="ir.ui.view" id="hr_leave_type_inherited_form_view">
        <field name="name">hr.leave.type.form.inherited</field>
        <field name="model">hr.leave.type</field>
        <field name="inherit_id" ref="hr_holidays.edit_holiday_status_form"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='leave_validation_type']" position="after">
                <field name="is_sick"/>
            </xpath>
        </field>
    </record>


    <record id="employee_refused_leave_request_form_view" model="ir.ui.view">
        <field name="name">Refused Leave Request</field>
        <field name="model">refuse.leave.request</field>
        <field name="arch" type="xml">
            <form string="Refused Leave Request">
                <group class="o_label_nowrap">
                    <field name="reasons"/>
                    <field name="leave_id" invisible="1"/>
                    <field name="from_date" invisible="1"/>
                    <field name="to_date" invisible="1"/>
                    <field name="employee_name_id" invisible="1"/>
                </group>
            </form>
        </field>
    </record>


    <record id="view_resource_calendar_leaves_form_inherit" model="ir.ui.view">
        <field name="name">resource.calendar.leaves.form.inherit</field>
        <field name="model">resource.calendar.leaves</field>
        <field name="inherit_id" ref="resource.resource_calendar_leave_tree"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='calendar_id']" position="attributes">
                <attribute name="optional">hide</attribute>
            </xpath>

            <xpath expr="//field[@name='work_entry_type_id']" position="attributes">
                <attribute name="optional">hide</attribute>
            </xpath>
        </field>
    </record>
    
    <record id="employee_refused_leave_request_tree_view" model="ir.ui.view">
        <field name="name">Refused Leave Request</field>
        <field name="model">refuse.leave.request</field>
        <field name="arch" type="xml">
            <tree string="Attendance Request">
                <field name="employee_name_id"/>
                <field name="reasons"/>
                <field name="leave_id" invisible="1"/>
                <field name="from_date"/>
                <field name="to_date"/>
            </tree>
        </field>
    </record>
    <record id="action_employee_refused_leave_request_view" model="ir.actions.act_window">
        <field name="name">Refused Leave Request</field>
        <field name="res_model">refuse.leave.request</field>
        <field name="view_mode">form,tree</field>
        <field name="target">new</field>
    </record>
    <record id="action_employee_refused_leave_request_tree_view" model="ir.actions.act_window">
        <field name="name">Refused Leave Request</field>
        <field name="res_model">refuse.leave.request</field>
        <field name="view_mode">tree</field>
        <field name="target">current</field>
    </record>
    <menuitem id="menu_attendance_request_id" name="Refused Leave Request"
              parent="hr_holidays.menu_hr_holidays_configuration"
              action="action_employee_refused_leave_request_tree_view" sequence="1"/>

</odoo>


