<odoo>
  <data>

      <record id="expense_form_view_inherit" model="ir.ui.view">
            <field name="name">hr.expense.form.inherite</field>
            <field name="model">hr.expense</field>
            <field name="priority" eval="8" />
            <field name="inherit_id" ref="hr_expense.hr_expense_view_form"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='state']" position="replace">
                     <field name="state" widget="statusbar" statusbar_visible="draft,reported,submitted,approved,done"
                         invisible="state == 'refused'"/>
                </xpath>

<!--                  <field name="state" widget="statusbar" statusbar_visible="draft,reported,submitted,refused"-->
<!--                         invisible="state != 'refused'"/>-->

            </field>
    </record>

    <record id="expense_sheet_form_view_inherit" model="ir.ui.view">
            <field name="name">hr.expense.sheet.form.inherite</field>
            <field name="model">hr.expense.sheet</field>
            <field name="priority" eval="8" />
            <field name="inherit_id" ref="hr_expense.view_hr_expense_sheet_form"/>
            <field name="arch" type="xml">
<!--                <xpath expr="//button[@name='action_approve_expense_sheets']" position="before">-->
<!--                    <button name="action_approve_by_manager" string="Approve By Manager" type="object" invisible="state != 'submit'" class="oe_highlight o_expense_sheet_approve" groups="infinous_user_groups.reporting_manager"/>-->
<!--&lt;!&ndash;                    <button name="action_refuse_by_hr_manager" string="Refuse By HR Manager" type="object"  invisible="state != 'approved_manager'" class="oe_highlight o_expense_sheet_refuse" groups="infinous_user_groups.assigment_hr"/>&ndash;&gt;-->

<!--                </xpath>-->
              <xpath expr="//button[@name='action_approve_expense_sheets']" position="replace">
                    <button name="action_approve_expense_sheets" string="Approve By Manager" type="object"  invisible="state != 'submit'" class="oe_highlight o_expense_sheet_approve" groups="infinous_user_groups.reporting_manager"/>
                </xpath>
                 <xpath expr="//button[@name='action_reset_approval_expense_sheets']" position="replace">
                             <button name="action_reset_approval_expense_sheets"
                            string="Reset to Draft"
                            type="object"
                            invisible="1"
                            data-hotkey="k"/>                </xpath>
                 <xpath expr="//button[@name='action_refuse_expense_sheets']" position="replace">
                    <button name="action_refuse_expense_sheets" string="Refuse"  invisible="state not in ('submit', 'approve')"
                            type="object"
                            groups="infinous_user_groups.reporting_manager"
                            data-hotkey="x"/>
                </xpath>
                 <xpath expr="//field[@name='state']" position="replace">
                 <field name="state" widget="statusbar" statusbar_visible="draft,submit,approve,post,done"
                           force_save="1" invisible="state == 'cancel'"/>
                 </xpath>
            </field>
    </record>

  </data>
</odoo>
