<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="employee_link" name="Link to frontend portal" inherit_id="portal.user_dropdown">
        <xpath expr="//*[@id='o_logout_divider']" position="after">
            <a href="/my/employee_list" role="menuitem" class="dropdown-item ps-3">
                <i class="fa fa-user small text-primary"/>
                Employees
            </a>

            <a href="/my/welcome_page" role="menuitem" class="dropdown-item ps-3">
                <i class="fa fa-user small text-primary"/>
                Welcome Page
            </a>

        </xpath>
    </template>

    <template id="infinews_welcome_page" name="Infinews Welcome Page">
        <t t-call="portal.portal_layout">
            <div class="container mt-5">
                <div class="row">
                    <div class="col-md-12 text-center">
                        <h1>Welcome to Infinews</h1>
                        <p>We are your trusted source for news and information.</p>
                        <p>Explore our latest articles and stay informed.</p>
                    </div>
                </div>
            </div>
            <br/>
            <br/>
            <br/>
            <br/>
            <div class="container">
                <div class="row" align="right">
                    <div class="col-md-12 text-right">
                        <a href="/my/security" class="btn btn-primary">Click here to change your password</a>
                        <a href="/my/mail" class="btn btn-primary">Click here to Generate Joining Letter</a>
                    </div>
                </div>
            </div>
        </t>
    </template>

    <template id="website.header_call_to_action" inherit_id="website.placeholder_header_call_to_action"
              name="Header Call to Action" active="True">
        <xpath expr="." position="inside">
            <li t-attf-class="#{_item_class}">
                <div t-attf-class="oe_structure oe_structure_solo #{_div_class}">
                    <section class="oe_unremovable oe_unmovable s_text_block" data-snippet="s_text_block"
                             data-name="Text">
                        <div class="container">
                            <t t-set="notification_counts" t-value="notification_count"/>

                            <t t-if="request.env.user.employee_id.id">

                                <a href="/my/employees/about_me" class="oe_unremovable btn btn-primary btn_cta">
                                    <span>About Me</span>
                                </a>

                                <a href="/my/notification" class="oe_unremovable btn btn-primary btn_cta">

                                    <i class="fa fa-bell">
                                        <span style="font-weight:bold" class="notification-badge"
                                              id="notification-badge"
                                              t-esc="notification_counts"/>

                                    </i>
                                    <span>Notifications</span>
                                </a>
                            </t>

                            <a href="/contactus" class="oe_unremovable btn btn-primary btn_cta">Contact Us</a>
                        </div>
                    </section>
                </div>
            </li>
        </xpath>
    </template>


    <template id="notification_template" name="Birthday Notification">
        <t t-call="portal.portal_layout">
            <t t-set="breadcrumbs_searchbar" t-value="True"/>


            <t t-call="portal.portal_searchbar">
                <t t-set="title">General Notifications</t>

            </t>
            <div class="mb32">
                <a t-if="True" t-attf-href="/my/employee_list" class="btn btn-primary">Back to home</a>
            </div>

            <t t-call="portal.portal_table">
                <thead>
                    <tr class="active">
                        <th>Info</th>
                    </tr>
                </thead>
                <t t-if="employees_birthday">

                    <t t-foreach="employees_birthday" t-as="employee">
                        <tr>
                            <td>Hi,Today is the birthday of
                                <span t-esc="employee.name"/>
                            </td>
                            <td>
                                <a role="button" class="btn btn-primary"
                                   data-bs-toggle="modal"
                                   id='myModal' data-bs-target="#warrantypopup" href="#">Send
                                </a>

                                <div class="row">
                                    <div class="row">
                                        <div class="modal fade" id="warrantypopup" role="dialog">
                                            <div class="modal-dialog">
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <h3 class="modal-title">SEND WISHES</h3>
                                                    </div>
                                                    <form action="/send_email_notification" method="post">
                                                        <input type="hidden" name="csrf_token"
                                                               t-att-value="request.csrf_token()"/>
                                                        <div class="modal-body">
                                                            <div class="form-group">
                                                                <label for="description">Description:</label>
                                                                <input type="text" class="form-control" id="description"
                                                                       name="description" placeholder="Enter subject"
                                                                       required="1"/>


                                                                <input type="hidden" name="employee_email"
                                                                       t-att-value="employee.work_email"/>

                                                                <input type="hidden" name="subject"
                                                                       t-att-value="'Birthday Wishes of ' + employee.name"/>

                                                            </div>
                                                        </div>

                                                        <div class="modal-footer">
                                                            <button type="submit" class="btn btn-primary" id="submitBtn"
                                                                    role="button">
                                                                Submit
                                                            </button>
                                                            <button type="button" class="btn btn-secondary"
                                                                    data-bs-dismiss="modal">Close
                                                            </button>
                                                        </div>
                                                    </form>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>


                            </td>
                        </tr>
                    </t>
                </t>
            </t>

            <t t-if="employees_work_anniversary">
                <t t-call="portal.portal_table">
                    <t t-foreach="employees_work_anniversary" t-as="employee">
                        <tr>
                            <td>Hi,Today is the Work Anniversary of
                                <span t-esc="employees_work_anniversary.name"/>
                            </td>
                            <td>
                                <a role="button" class="btn btn-primary"
                                   data-bs-toggle="modal"
                                   id='myModal' data-bs-target="#warrantypopup" href="#">Send
                                </a>

                                <div class="row">
                                    <div class="row">
                                        <div class="modal fade" id="warrantypopup" role="dialog">
                                            <div class="modal-dialog">
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <h3 class="modal-title">SEND WISHES</h3>
                                                    </div>
                                                    <form action="/send_email_notification" method="post">
                                                        <input type="hidden" name="csrf_token"
                                                               t-att-value="request.csrf_token()"/>
                                                        <div class="modal-body">
                                                            <div class="form-group">
                                                                <label for="description">Description:</label>
                                                                <input type="text" class="form-control" id="description"
                                                                       name="description" placeholder="Enter subject"
                                                                       required="1"/>


                                                                <input type="hidden" name="employee_email"
                                                                       t-att-value="employee.work_email"/>

                                                                <input type="hidden" name="subject"
                                                                       t-att-value="'Work Anniversary of ' + employee.name"/>
                                                            </div>
                                                        </div>

                                                        <div class="modal-footer">
                                                            <button type="submit" class="btn btn-primary" id="submitBtn"
                                                                    role="button">
                                                                Submit
                                                            </button>
                                                            <button type="button" class="btn btn-secondary"
                                                                    data-bs-dismiss="modal">Close
                                                            </button>
                                                        </div>
                                                    </form>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </t>
                </t>
            </t>

            <t t-if="public_holidays">
                <t t-call="portal.portal_table">
                    <t t-foreach="public_holidays" t-as="holiday">
                        <tr>
                            <td>Hi!
                                <t t-esc="current_user"/>
                                <span t-if="holiday.date_from"
                                      t-esc="holiday.date_from.strftime('%d-%m-%Y')"/>
                                is a public holiday
                                for
                                <span t-if="holiday.name" t-esc="holiday.name"/>

                            </td>
                        </tr>
                    </t>
                </t>
            </t>

            <t t-if="employee_announcements">
                <t t-call="portal.portal_table">
                    <t t-foreach="employee_announcements" t-as="announcements">
                        <tr>
                            <td>
                                <b>General Announcement :</b>
                                <span t-esc="announcements.subject"/>

                            </td>
                        </tr>
                    </t>
                </t>
            </t>
            <t t-if="not employees_birthday and not employees_work_anniversary and not public_holidays">
                <p>There are no informations.</p>
            </t>

        </t>


    </template>

    <template id="certificate_application_submited_view" name="Certificate Attendance submit view">
        <t t-call="portal.portal_layout">
            <div id="certificate_request">
                <div class="card text-center">

                    <t t-if="subject">
                        <div class="card-header">
                            Mail Sended
                        </div>
                        <div class="card-body">
                            <h5 class="card-title text-success">Submitted Successfully!</h5>
                            <p class="card-text"></p>
                            <a href="/my/notification" class="btn btn-primary">Back to home</a>
                        </div>
                    </t>

                    <t t-elif="joining_letter">
                        <div class="card-header">
                            Joining Letter
                        </div>
                        <div class="card-body">
                            <h5 class="card-title text-success">Your Joining Letter Submitted Successfully!</h5>
                            <p class="card-text"></p>
                            <a href="/my/employee_list" class="btn btn-primary">Back to home</a>
                        </div>
                    </t>

                    <t t-elif="time_off_type">
                        <div class="card-header">
                            Time Off
                        </div>
                        <div class="card-body">
                            <h5 class="card-title text-success">Your Time Off Submitted Successfully!</h5>
                            <p class="card-text"></p>
                            <a href="/my/employee_list" class="btn btn-primary">Back to home</a>
                        </div>
                    </t>

                    <t t-elif="revoke_hr_manager">
                        <div class="card-header">
                            Leave Request
                        </div>
                        <div class="card-body">
                            <h5 class="card-title text-success">Your Request To Revoke Approved Leave
                                Submitted Successfully!
                            </h5>
                            <p class="card-text"></p>
                            <a href="/my/employee_list" class="btn btn-primary">Back to home</a>
                        </div>
                    </t>

                    <t t-elif="hr_manager_email">
                        <div class="card-header">
                            Profile
                        </div>
                        <div class="card-body">
                            <h5 class="card-title text-success">Your Profile
                                Submitted Successfully!
                            </h5>
                            <p class="card-text"></p>
                            <a href="/my/employee_list" class="btn btn-primary">Back to home</a>
                        </div>
                    </t>

                    <t t-elif="exp_cat_id">
                        <div class="card-header">
                            Expense Creation
                        </div>
                        <div class="card-body">
                            <h5 class="card-title text-success">Your Expense
                                Submitted Successfully!
                            </h5>
                            <p class="card-text"></p>
                            <a href="/my/employee_list" class="btn btn-primary">Back to home</a>
                        </div>
                    </t>

                    <t t-elif="work_location_id">
                        <div class="card-header">
                            Employee Form
                        </div>
                        <div class="card-body">
                            <h5 class="card-title text-success">
                                Submitted Successfully!
                            </h5>
                            <p class="card-text"></p>
                            <a href="/my/employee_list" class="btn btn-primary">Back to home</a>
                        </div>
                    </t>

                    <t t-else="">
                        <div class="card-header">
                            Certificate Request
                        </div>
                        <div class="card-body">
                            <h5 class="card-title text-success">Your Certificate Request Submitted Successfully!</h5>
                            <p class="card-text"></p>
                            <a href="/my/welcome_page" class="btn btn-primary">Back to home</a>
                        </div>

                    </t>

                </div>
            </div>
        </t>
    </template>

    <template id="employee_list_template">
        <t t-call="portal.portal_layout">
            <t t-set="my_details" t-value="True"/>
            <div class="o_portal_my_home">
                <div class="oe_structure" id="oe_structure_portal_my_home_1"/>
                <div class="o_portal_docs row g-2">
                    <div class="o_portal_doc_spinner spinner-border text-o-color-2 align-self-center mt-5"/>
                    <div class="o_portal_category row g-2 mt-3" id="portal_common_category">
                        <t t-call="portal.portal_docs_entry">
                            <t t-set="icon" t-value="'/inf_employee_portal/static/description/icon.jpg'"/>
                            <t t-set="title">Certificate Request</t>
                            <t t-set="text">Create your certificate request</t>
                            <t t-set="url" t-value="'/my/employees'"/>
                            <t t-set="config_card" t-value="True"/>
                        </t>
                        <t t-call="portal.portal_docs_entry">
                            <t t-set="icon" t-value="'/inf_employee_portal/static/description/images.png'"/>
                            <t t-set="title">Time Off</t>
                            <t t-set="text">Create your Time Off request</t>
                            <t t-set="url" t-value="'/employee/timeoff'"/>
                            <t t-set="config_card" t-value="True"/>
                        </t>
                    </div>
                    <div class="o_portal_category row g-2 mt-3" id="portal_common_category_employee">
                        <t t-call="portal.portal_docs_entry">
                            <t t-set="icon" t-value="'/inf_employee_portal/static/description/expenses.png'"/>
                            <t t-set="title">Expenses</t>
                            <t t-set="text">Create your Expenses</t>
                            <t t-set="url" t-value="'/employee/expenses'"/>
                            <t t-set="config_card" t-value="True"/>
                        </t>

                    </div>
                </div>
            </div>

        </t>
    </template>

    <template id="employee_list_form" name="Employee List Template">
        <t t-call="portal.portal_layout">
            <div class="o_portal_my_home">
                <div class="oe_structure" id="oe_structure_portal_my_home_1"/>
                <div class="o_portal_docs row g-2">
                    <div class="o_portal_doc_spinner spinner-border text-o-color-2 align-self-center mt-5"/>
                    <p class="o_portal_no_doc_message d-none">No Documents to display</p>
                    <div class="o_portal_category row g-2" id="portal_common_category">
                        <form method="post" action="/my/send_mail" enctype="multipart/form-data">
                            <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>

                            <div class="form-group mb-3">
                                <label for="employee_list">Send To:</label>
                                <select id="employee_list" name="employee_list" class="form-control">
                                    <option t-att-value="hr.id">
                                        <t t-esc="hr.name"/>
                                    </option>
                                </select>
                            </div>
                            <div class="form-group mb-3">
                                <label for="company">Company:</label>
                                <input type="text" id="company" name="company" class="form-control"
                                       t-att-value="request.env.user.company_id.name" readonly="readonly"/>
                            </div>
                            <div class="form-group mb-3">
                                <label for="email">Email:</label>
                                <input type="email" id="email" name="email" class="form-control" t-att-value="email"/>
                            </div>
                            <div class="form-group mb-3">
                                <label for="subject">Subject:</label>
                                <input type="text" id="subject" name="subject" class="form-control"
                                       t-att-value="'Certificate Request of ' + employee.name"/>

                            </div>


                            <div class="form-group mb-3">
                                <label for="description">Description:</label>
                                <textarea id="description" name="description" class="form-control" rows="4"/>
                            </div>

                            <div class="form-group mb-3" data-type="binary">
                                <label for="attachments">Attachments:</label>
                                <input type="file" id="attachments" name="attachments"
                                       class="form-control s_website_form_input"/>
                            </div>


                            <a t-attf-href="/my/employee_list" class="btn btn-primary">Cancel</a>
                            <button type="submit" class="btn btn-primary">Submit</button>
                        </form>
                    </div>
                </div>
            </div>
        </t>
    </template>


</odoo>
