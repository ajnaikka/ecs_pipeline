<odoo>
    <data>

        <record id="course_frame_list_view" model="ir.ui.view">
            <field name="name">course.frame.tree</field>
            <field name="model">course.frame</field>
            <field name="arch" type="xml">
                <tree string="Course Frame">
                    <field name="name"/>
                    <field name="course_code"/>
                    <field name="subject_id"/>
                    <field name="specialisation_id"/>
                    <field name="state"/>
                    <field name="stages"/>
                </tree>
            </field>
        </record>
        <record model="ir.ui.view" id="course_frame_view_kanban">
            <field name="name">course.frame.kanban</field>
            <field name="model">course.frame</field>
            <field name="arch" type="xml">
                <kanban default_group_by="stages" quick_create="false" records_draggable="0">
                    <field name="name"/>
                    <field name="course_code"/>
                    <field name="stages"/>
                    <field name="state"/>
                    <field name="subject_id"/>
                    <field name="specialisation_id"/>
                    <field name="learning_platform_id"/>
                    <field name="course_tags_ids"/>
                    <field name="job_tags_ids"/>
                    <field name="course_mode_type"/>
                    <field name="course_duration"/>
                    <field name="preferred_branch"/>
                    <field name="category"/>
                    <field name="team_lead_id"/>
                    <field name="content_writer_id"/>
                    <field name="academic_head_id"/>
                    <field name="managing_director_id"/>
                    <templates>
                        <t t-name="kanban-box">
                            <div class="oe_kanban_global_click">
                                <div class="oe_kanban_content">
                                    <div class="o_kanban_record_top">
                                        <div class="o_kanban_record_headings">
                                            <strong class="o_kanban_record_title">
                                                <field name="name"/>
                                            </strong>
                                            <span>
                                                <br/>
                                                <field name="course_code" options="{'no_open': True}"/>
                                            </span>
                                            <br/>
                                            <t>
                                                <span>
                                                    <field name="team_lead_id"/>
                                                </span>
                                            </t>
                                        </div>
                                        <div class="o_dropdown_kanban dropdown" groups="base.group_user">
                                            <a role="button" class="dropdown-toggle o-no-caret btn"
                                               data-bs-toggle="dropdown" data-bs-display="static" href="#"
                                               aria-label="Dropdown menu" title="Dropdown menu">
                                                <span class="fa fa-ellipsis-v"/>
                                            </a>
                                            <div class="dropdown-menu" role="menu">
                                                <a t-if="widget.editable" role="menuitem" type="edit"
                                                   class="dropdown-item">Edit
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="o_kanban_record_body">
                                        <field name="subject_id"/>
                                        <div>
                                            <field name="specialisation_id"/>
                                        </div>
                                        <div>
                                            <field name="learning_platform_id"/>
                                        </div>
                                    </div>
                                    <div class="o_kanban_record_bottom">
                                        <div class="oe_kanban_bottom_left">
                                            <field name="course_tags_ids" widget="many2many_tags"
                                                   options="{'color_field':'color'}"/>
                                            <field name="job_tags_ids" widget="many2many_tags"
                                                   options="{'color_field':'color'}"/>
                                        </div>
                                        <!--                                    <div class="oe_kanban_bottom_right">-->
                                        <!--                                        <field name="state" widget="state_selection" groups="base.group_user"/>-->
                                        <!--                                    </div>-->
                                    </div>
                                </div>
                                <div class="clearfix"></div>
                            </div>
                        </t>
                    </templates>
                </kanban>
            </field>
        </record>

        <record id="course_frame_form_view" model="ir.ui.view">
            <field name="name">course.frame.form</field>
            <field name="model">course.frame</field>
            <field name="arch" type="xml">
                <form string="Course Frame">
                    <header>
                        <field name="stages" widget="statusbar" force_save="1"
                               statusbar_visible="course_subject_selection,freasing_stage,toc_syllabas,course_development,study_material"/>
                    </header>
                    <header>
                        <!--                        course frame stage-->
                        <button name="action_assign" type="object" class="btn-primary" string="Assign"
                                attrs="{'invisible': ['|',('state', 'not in', ('draft')), ('is_team_lead', '=', False)]}"
                                groups="course_frame.group_academy_team_lead"/>
                        <button name="action_submitted" type="object" class="btn-primary" string="Submit"
                                attrs="{'invisible': ['|',('state', 'not in', ('assigned_cw','reject_by_tl')), ('is_content_writer', '=', False)]}"
                                groups="course_frame.group_academy_content_writer"/>
                        <button name="action_tl_approve" type="object" class="btn-primary" string="Approve(TL)"
                                attrs="{'invisible': ['|',('state', 'not in', ('submitted_tl','reject_by_ah')), ('is_team_lead', '=', False)]}"
                                groups="course_frame.group_academy_team_lead"/>
                        <button name="action_tl_reject" type="object" class="btn-primary" string="Reject(TL)"
                                attrs="{'invisible': ['|',('state', 'not in', ('submitted_tl','reject_by_ah')), ('is_team_lead', '=', False)]}"
                                groups="course_frame.group_academy_team_lead"/>
                        <button name="action_ah_approve" type="object" class="btn-primary" string="Approve(AH)"
                                attrs="{'invisible': ['|',('state', 'not in', ('submitted_to_ah','rejected_by_dean')), ('is_academic_head', '=', False)]}"
                                groups="course_frame.group_academy_academy_head"/>
                        <button name="action_ah_reject" type="object" class="btn-primary" string="Reject(AH)"
                                attrs="{'invisible': ['|',('state', 'not in', ('submitted_to_ah','rejected_by_dean')), ('is_academic_head', '=', False)]}"
                                groups="course_frame.group_academy_academy_head"/>

                        <button name="action_asso_dean_approve" type="object" class="btn-primary" string="Approve(AD)"
                                attrs="{'invisible': ['|',('state', 'not in', ('submitted_dean','rejected_by_director')), ('is_ass_dean', '=', False)]}"
                                groups="course_frame.group_academy_associate_dean"/>
                        <button name="action_asso_dean_reject" type="object" class="btn-primary" string="Reject(AD)"
                                attrs="{'invisible': ['|',('state', 'not in', ('submitted_dean','rejected_by_director')), ('is_ass_dean', '=', False)]}"
                                groups="course_frame.group_academy_associate_dean"/>

                        <button name="action_director_approve" type="object" class="btn-primary" string="Approve(Dir)"
                                attrs="{'invisible': ['|',('state', 'not in', ('submitted_director')), ('is_managing_dir', '=', False)]}"
                                states="submitted_director" groups="course_frame.group_academy_director"/>
                        <button name="action_director_reject" type="object" class="btn-primary" string="Reject(Dir)"
                                attrs="{'invisible': ['|',('state', 'not in', ('submitted_director')), ('is_managing_dir', '=', False)]}"
                                states="submitted_director" groups="course_frame.group_academy_director"/>
                        <button name="action_reject_back_freezing_to_course_subject" type="object" class="btn-primary" string="Reject to Back"
                                attrs="{'invisible': ['|', '|', ('stages', 'not in', ('freasing_stage')),('freezing_state', 'not in', ('draft', 'reject_by_ah')), ('is_managing_dir', '=', False)]}"
                                groups="course_frame.group_academy_director"/>


                        <!--                        <button name="action_freez" type="object" class="btn-primary" string="Freeze"-->
                        <!--                                attrs="{'invisible': ['|',('freezing_states', '=', 'freez'),('stages', 'not in', ['freasing_stage'])]}" -->
                        <!--                                groups="course_frame.group_academy_director"/>-->
                        <!--                        freeze-->
                        <button name="action_unfreez" type="object" class="btn-primary" string="Un Freeze"
                                attrs="{'invisible': ['|',('freezing_states', '=', 'unfreez'),('is_team_lead', '=', False)]}"
                                groups="course_frame.group_academy_team_lead"/>



<!--                        button for reject in toc draft stage to freeze stage-->
                        <button name="action_reject_toc_to_freeze" type="object" class="btn-primary" string="Reject"
                                attrs="{'invisible': ['|','|',('stages', 'not in', ('toc_syllabus')),('freezing_states', '=', 'unfreez'), ('is_managing_dir', '=', False)]}"/>

                        <button name="action_reject_redevelopment_to_toc" type="object" class="btn-primary" string="Reject to Back"
                                                        attrs="{'invisible': ['|',('stages', 'not in', ('course_development')), ('is_managing_dir', '=', False)]}"/>




                        <button name="action_submitted_to_ah" type="object" class="btn-primary" string="Submit to AH"
                                attrs="{'invisible': ['|','|',('freezing_state', 'not in', ['draft','reject_by_ah']),('stages', 'not in', ['freasing_stage']),('is_team_lead', '=', False)]}"
                                groups="course_frame.group_academy_team_lead"/>

                        <button name="action_submitted_to_account" type="object" class="btn-primary"
                                string="Submit to Accountant"
                                attrs="{'invisible': ['|','|',('freezing_state', 'not in', ['submitted_to_ah','reject_by_accounts']),('stages', 'not in', ['freasing_stage']),('is_academic_head', '=', False)]}"
                                groups="course_frame.group_academy_academy_head"/>
                        <button name="action_budget_rejected_by_ah" type="object" class="btn-primary" string="Reject"
                                attrs="{'invisible': ['|','|',('freezing_state', 'not in', ['submitted_to_ah','reject_by_accounts']),('stages', 'not in', ['freasing_stage']),('is_academic_head', '=', False)]}"
                                groups="course_frame.group_academy_academy_head"/>
                        <button name="action_submitted_to_director" type="object" class="btn-primary"
                                string="Submit to Director"
                                attrs="{'invisible': ['|','|',('freezing_state', 'not in', ['submitted_to_account','rejected_by_director']),('stages', 'not in', ['freasing_stage']),('is_accounts_head', '=', False)]}"
                                groups="account.group_account_manager"/>
                        <button name="action_budget_rejected_by_accountant" type="object" class="btn-primary"
                                string="Reject"
                                attrs="{'invisible': ['|','|',('freezing_state', 'not in', ['submitted_to_account','rejected_by_director']),('stages', 'not in', ['freasing_stage']),('is_accounts_head', '=', False)]}"
                                groups="account.group_account_manager"/>
                        <button name="action_budget_director_approve" type="object" class="btn-primary" string="Approve"
                                attrs="{'invisible': ['|','|',('freezing_state', 'not in', ['submitted_to_director']),('stages', 'not in', ['freasing_stage']),('is_managing_dir', '=', False)]}"
                                groups="course_frame.group_academy_director"/>
                        <button name="action_budget_rejected_by_director" type="object" class="btn-primary"
                                string="Reject"
                                attrs="{'invisible': ['|','|',('freezing_state', 'not in', ['submitted_to_director']),('stages', 'not in', ['freasing_stage']),('is_managing_dir', '=', False)]}"
                                groups="course_frame.group_academy_director"/>
                        <button name="action_reject_back_toc_syllabas_to_freazing_stage" type="object" class="btn-primary" string="Reject to back"
                                attrs="{'invisible': ['|','|',('freezing_state', 'not in', ['approved']),('stages', 'not in', ['toc_syllabas']),('is_managing_dir', '=', False)]}"
                                groups="course_frame.group_academy_director"/>


                        <button name="action_open_course_frame_wizard" type="object" class="btn-primary"
                                string="Create Course"
                                attrs="{'invisible': ['|',('stages', 'not in', ['course_development']),('is_team_lead', '=', False)]}"
                                groups="course_frame.group_academy_team_lead"/>

                        <button name="action_reject_back_study_material_to_development" type="object" class="btn-primary" string="Reject to back"
                                attrs="{'invisible': ['|',('stages', 'not in', ['study_material']),('is_managing_dir', '=', False)]}"
                                groups="course_frame.group_academy_director"/>


                        <!--                        <button name="action_move_to_study_material" type="object" class="btn-primary"-->
                        <!--                                string="Move To Study Material"-->
                        <!--                                attrs="{'invisible': ['|',('stages', 'not in', ['course_development']),('is_team_lead', '=', False)]}"-->
                        <!--                                groups="course_frame.group_academy_team_lead"/>-->


                        <field name="state" widget="statusbar" force_save="1"
                               statusbar_visible="draft,assigned_cw,submitted_tl,submitted_to_ah,submitted_dean,submitted_director,approved"
                               attrs="{'invisible': [('stages', 'not in', ['course_subject_selection'])]}"/>
                        <field name="freezing_states" widget="statusbar" force_save="1"
                               statusbar_visible="freez,unfreez" invisible="1"/>
                        <field name="freezing_state" widget="statusbar" force_save="1"
                               statusbar_visible="draft,submitted_to_ah,submitted_to_account,submitted_to_director,approved"
                               attrs="{'invisible': [('stages', 'not in', ['freasing_stage'])]}"/>
                    </header>
                    <sheet>
                        <widget name="web_ribbon" title="Freezed" bg_color="bg-danger"
                                attrs="{'invisible': [('freezing_states', '=', 'unfreez')]}"/>
                        <div class="oe_title mb24">
                            <label for="name" string="Name"/>
                            <h1>
                                <field name="name"
                                       attrs="{'readonly':[('state', 'not in', ['draft','assigned_cw','reject_by_tl'])]}"/>
                            </h1>
                        </div>


                        <group>
                            <group>
                                <field name="content_writer_id"
                                       attrs="{'readonly':[('state', 'not in', ['draft','assigned_cw','reject_by_tl'])]}"/>
                                <field name="team_lead_id"
                                       attrs="{'readonly':[('state', 'not in', ['draft','assigned_cw','reject_by_tl'])]}"/>
                                <field name="accountant_id"
                                       attrs="{'readonly':[('state', 'not in', ['draft','assigned_cw','reject_by_tl'])]}"/>
                            </group>
                            <group>
                                <field name="academic_head_id"
                                       attrs="{'readonly':[('state', 'not in', ['draft','assigned_cw','reject_by_tl'])]}"/>
                                <field name="asso_dean_id"
                                       attrs="{'readonly':[('state', 'not in', ['draft','assigned_cw','reject_by_tl'])]}"/>
                                <field name="managing_director_id"
                                       attrs="{'readonly':[('state', 'not in', ['draft','assigned_cw','reject_by_tl'])]}"/>
                                <field name="is_content_writer" invisible="1"/>
                                <field name="is_team_lead" invisible="1"/>
                                <field name="is_academic_head" invisible="1"/>
                                <field name="is_ass_dean" invisible="1"/>
                                <field name="is_managing_dir" invisible="1"/>
                                <field name="is_accounts_head" invisible="1"/>
                            </group>
                            <group>
                                <field name="reason"/>
                            </group>
                        </group>
                        <notebook>
                            <page name="course_subject_suggestion" string="Course &amp; Subject Suggestion">
                                <group name="course_subject_suggestion" string="Course Details"
                                       attrs="{'readonly': [('stages', 'not in', ['course_subject_selection'])]}">
                                    <group>
                                        <field name="course_code"
                                               attrs="{'readonly':[('state', 'not in', ['draft','assigned_cw','reject_by_tl'])],
                                               'required':[('state', 'in', ['assigned_cw'])]}"/>
                                        <field name="learning_platform_id"
                                               attrs="{'readonly':[('state', 'not in', ['draft','assigned_cw','reject_by_tl'])]}"/>
                                        <field name="course_learning_hours" widget="float_time"
                                               attrs="{'readonly':[('state', 'not in', ['draft','assigned_cw','reject_by_tl'])]}"/>


                                        <field name="course_type_id"
                                               attrs="{'readonly':[('state', 'not in', ['draft','assigned_cw','reject_by_tl'])]}"/>
                                        <field name="certificate_version"
                                               attrs="{'readonly':[('state', 'not in', ['draft','assigned_cw','reject_by_tl'])]}"/>
                                        <field name="course_fee_id"
                                               attrs="{'readonly':[('state', 'not in', ['draft','assigned_cw','reject_by_tl'])]}"/>
                                    </group>
                                    <group>
                                        <field name="course_overview"
                                               attrs="{'readonly':[('state', 'not in', ['draft','assigned_cw','reject_by_tl'])]}"/>
                                        <field name="course_overview_video" widget="url"
                                               attrs="{'readonly':[('state', 'not in', ['draft','assigned_cw','reject_by_tl'])]}"/>
                                        <field name="additional_skills"
                                               attrs="{'readonly':[('state', 'not in', ['draft','assigned_cw','reject_by_tl'])]}"/>
                                    </group>
                                    <group>
                                        <field name="eligibility"
                                               attrs="{'readonly':[('state', 'not in', ['draft','assigned_cw','reject_by_tl'])]}"/>
                                        <field name="qualification"
                                               attrs="{'readonly':[('state', 'not in', ['draft','assigned_cw','reject_by_tl'])]}"/>
                                        <label for="minimum_years" string="Age category"/>
                                        <div class="o_row">
                                            <span class="text-muted">Minimum Yrs</span>
                                            <field name="minimum_years" class="oe_inline"
                                                   attrs="{'readonly':[('state', 'not in', ['draft','assigned_cw','reject_by_tl'])]}"/>
                                            <span class="text-muted">Maximum Yrs</span>
                                            <field name="maximum_years" class="oe_inline"
                                                   attrs="{'readonly':[('state', 'not in', ['draft','assigned_cw','reject_by_tl'])]}"/>
                                        </div>
                                        <field name="course_mode_type" widget="radio"
                                               attrs="{'readonly':[('state', 'not in', ['draft','assigned_cw','reject_by_tl'])]}"/>
                                        <label for="course_duration"/>
                                        <div class="o_row">
                                            <field name="course_duration" class="oe_inline"
                                                   attrs="{'readonly':[('state', 'not in', ['draft','assigned_cw','reject_by_tl'])]}"/>
                                            <span class="text-muted">Mnth/Yr</span>
                                            <field name="duration_type" class="oe_inline"
                                                   attrs="{'readonly':[('state', 'not in', ['draft','assigned_cw','reject_by_tl'])]}"/>
                                        </div>
                                        <field name="total_score"
                                               attrs="{'readonly':[('state', 'not in', ['draft','assigned_cw','reject_by_tl'])]}"/>

                                    </group>
                                    <group>
                                        <field name="experience_required"
                                               attrs="{'readonly':[('state', 'not in', ['draft','assigned_cw','reject_by_tl'])]}"/>
                                        <label for="version_from" string="Version"/>
                                        <div class="o_row">
                                            <span class="text-muted">From</span>
                                            <field name="version_from" class="oe_inline"
                                                   attrs="{'readonly':[('state', 'not in', ['draft','assigned_cw','reject_by_tl'])]}"/>
                                            <span class="text-muted">To</span>
                                            <field name="version_to" class="oe_inline"
                                                   attrs="{'readonly':[('state', 'not in', ['draft','assigned_cw','reject_by_tl'])]}"/>
                                        </div>
                                        <field name="preferred_region"
                                               attrs="{'readonly':[('state', 'not in', ['draft','assigned_cw','reject_by_tl'])]}"/>
                                        <field name="preferred_branch"
                                               attrs="{'readonly':[('state', 'not in', ['draft','assigned_cw','reject_by_tl'])]}"/>
                                        <field name="category"
                                               attrs="{'readonly':[('state', 'not in', ['draft','assigned_cw','reject_by_tl'])]}"/>
                                        <field name="study_material_type_id"
                                               attrs="{'readonly':[('state', 'not in', ['draft','assigned_cw','reject_by_tl'])]}"/>
                                    </group>
                                    <group string="Course Details" name="subject_details">
                                        <field name="is_main_project" widget="boolean_toggle"
                                               attrs="{'readonly':[('state', 'not in', ['draft','assigned_cw','reject_by_tl'])]}"/>
                                        <field name="project_name_main"
                                               attrs="{'invisible': [('is_main_project', '=', False)],'readonly':[('state', 'not in', ['draft','assigned_cw','reject_by_tl'])]}"/>
                                        <field name="project_score_main"
                                               attrs="{'invisible': [('is_main_project', '=', False)],'readonly':[('state', 'not in', ['draft','assigned_cw','reject_by_tl'])]}"/>
                                        <field name="is_mini_project" widget="boolean_toggle"
                                               attrs="{'readonly':[('state', 'not in', ['draft','reject_by_tl'])]}"/>
                                        <field name="project_name_mini"
                                               attrs="{'invisible': [('is_mini_project', '=', False)],'readonly':[('state', 'not in', ['draft','assigned_cw','reject_by_tl'])]}"/>
                                        <field name="project_score_mini"
                                               attrs="{'invisible': [('is_mini_project', '=', False)],'readonly':[('state', 'not in', ['draft','assigned_cw','reject_by_tl'])]}"/>
                                        <field name="is_case_study" widget="boolean_toggle"
                                               attrs="{'readonly':[('state', 'not in', ['draft','assigned_cw','reject_by_tl'])]}"/>
                                        <field name="case_study"
                                               attrs="{'invisible': [('is_case_study', '=', False)],'readonly':[('state', 'not in', ['draft','assigned_cw','reject_by_tl'])]}"/>
                                        <field name="case_study_score"
                                               attrs="{'invisible': [('is_case_study', '=', False)],'readonly':[('state', 'not in', ['draft','assigned_cw','reject_by_tl'])]}"/>
                                        <field name="subject_count"/>
                                    </group>
                                    <group string="Course Fee" name="course_fee_line">
                                        <field name="course_fee_line" nolabel="1"
                                               attrs="{'readonly':[('state', 'not in', ['draft','assigned_cw','reject_by_tl'])]}"
                                               colspan="2">
                                            <tree editable="bottom">
                                                <field name="course_fee_id"/>
                                                <field name="course_fee"/>
                                            </tree>
                                        </field>
                                    </group>
                                    <group string="Subjects" name="subject_lines">
                                        <field name="subject_line" nolabel="1" colspan="4"
                                               attrs="{'readonly':[('state', 'not in', ['draft','assigned_cw','reject_by_tl'])]}">
                                            <tree editable="bottom">
                                                <field name="type"/>
                                                <field name="subject_id"
                                                       attrs="{'readonly':[('type', '!=', 'subject')]}"/>
                                                <field name="specialisation_id"
                                                       attrs="{'readonly':[('type', '!=', 'specialisation')]}"/>
                                                <field name="name" force_save="1"/>
                                                <field name="code" force_save="1"/>
                                                <field name="total_marks" required="1"/>
                                                <field name="passing_marks" required="1"/>
                                                <field name="showing_as_id"/>
                                                <field name="showing_in"/>
                                                <field name="position_is"/>
                                            </tree>
                                        </field>
                                    </group>

                                    <group></group>
                                    <group>
                                        <field name="grade_id"
                                               attrs="{'readonly':[('state', 'not in', ['draft','assigned_cw','reject_by_tl'])]}"/>
                                        <field name="grading_version"
                                               attrs="{'readonly':[('state', 'not in', ['draft','assigned_cw','reject_by_tl'])]}"/>
                                    </group>
                                    <group></group>

                                    <group string="Grading system" name="grading_system">
                                        <field name="grading_line" nolabel="1" colspan="4" readonly="1" force_save="1">
                                            <tree editable="bottom">
                                                <field name="name" width="30%"/>
                                                <field name="grade" width="20%"/>
                                                <field name="performance" width="30%"/>
                                                <field name="grade_point" width="20%"/>
                                            </tree>
                                        </field>
                                    </group>
                                </group>
                            </page>
                            <page string="Budgeting Details"
                                  attrs="{'invisible': [('stages', 'in', ['course_subject_selection'])]}">
                                <field name="budget_line" nolabel="1"
                                       attrs="{'readonly':['|',('freezing_state', 'not in', ['draft','reject_by_ah']),('stages', 'not in', ['freasing_stage'])]}"
                                       colspan="2">
                                    <tree editable="bottom">
                                        <field name="budget_id" width="75%"/>
                                        <field name="cost" width="25%"/>
                                    </tree>
                                </field>
                                <group name="note_group" col="6" class="mt-2 mt-md-0">
                                    <group colspan="4">
                                        <field colspan="2" name="total_man_days"
                                               attrs="{'readonly':['|',('freezing_state', 'not in', ['draft','reject_by_ah']),('stages', 'not in', ['freasing_stage'])]}"/>
                                    </group>
                                    <group class="oe_subtotal_footer oe_right" colspan="2" name="budget_total">
                                        <field name="currency_id" colspan="2" readonly="1" invisible="1"/>
                                        <field name="amount_total" widget="monetary"
                                               colspan="2" readonly="1"/>
                                    </group>
                                    <div class="clearfix"/>
                                </group>
                            </page>
                            <page string="TOC &amp; Syllabas Development"
                                  attrs="{'invisible': [('stages', 'in', ['course_subject_selection','freasing_stage'])]}">
                                <notebook>
                                    <page string="TOC Development">
                                        <form string="TOC Uploading">
                                            <header>
                                                <button name="action_toc_submitted" type="object" class="btn-primary"
                                                        string="Submit"
                                                        attrs="{'invisible': ['|',('toc_stage', 'not in', ['draft','reject_by_tl']),('is_content_writer', '=', False)]}"
                                                        groups="course_frame.group_academy_content_writer"/>
                                                <button name="action_tl_toc_approve" type="object" class="btn-primary"
                                                        string="Approve"
                                                        attrs="{'invisible': ['|',('toc_stage', 'not in', ['submitted_tl','reject_by_ah']),('is_team_lead', '=', False)]}"
                                                        groups="course_frame.group_academy_team_lead"/>
                                                <button name="action_tl_toc_reject" type="object" class="btn-primary"
                                                        string="Reject"
                                                        attrs="{'invisible': ['|',('toc_stage', 'not in', ['submitted_tl','reject_by_ah']),('is_team_lead', '=', False)]}"
                                                        groups="course_frame.group_academy_team_lead"/>
                                                <button name="action_ah_toc_approve" type="object" class="btn-primary"
                                                        string="Approve"
                                                        attrs="{'invisible': ['|',('toc_stage', 'not in', ['submitted_to_ah','rejected_by_dean']),('is_academic_head', '=', False)]}"
                                                        groups="course_frame.group_academy_academy_head"/>
                                                <button name="action_ah_toc_reject" type="object" class="btn-primary"
                                                        string="Reject"
                                                        attrs="{'invisible': ['|',('toc_stage', 'not in', ['submitted_to_ah','rejected_by_dean']),('is_academic_head', '=', False)]}"
                                                        groups="course_frame.group_academy_academy_head"/>

                                                <button name="action_asso_dean_toc_approve" type="object"
                                                        class="btn-primary"
                                                        string="Approve"
                                                        attrs="{'invisible': ['|',('toc_stage', 'not in', ['submitted_dean','rejected_by_director']),('is_ass_dean', '=', False)]}"
                                                        groups="course_frame.group_academy_associate_dean"/>
                                                <button name="action_asso_dean_toc_reject" type="object"
                                                        class="btn-primary"
                                                        string="Reject"
                                                        attrs="{'invisible': ['|',('toc_stage', 'not in', ['submitted_dean','rejected_by_director']),('is_ass_dean', '=', False)]}"
                                                        groups="course_frame.group_academy_associate_dean"/>

                                                <button name="action_director_toc_approve" type="object"
                                                        class="btn-primary"
                                                        string="Approve"
                                                        attrs="{'invisible': ['|',('toc_stage', 'not in', ['submitted_director']),('is_managing_dir', '=', False)]}"
                                                        groups="course_frame.group_academy_director"/>
                                                <button name="action_director_toc_reject" type="object"
                                                        class="btn-primary"
                                                        string="Reject"
                                                        attrs="{'invisible': ['|',('toc_stage', 'not in', ['submitted_director']),('is_managing_dir', '=', False)]}"
                                                        groups="course_frame.group_academy_director"/>

                                                <field name="toc_stage" widget="statusbar" force_save="1"
                                                       statusbar_visible="draft,submitted_tl,submitted_to_ah,submitted_dean,submitted_director,approved"/>
                                            </header>
                                            <sheet>
                                                <field name="toc_lines"
                                                       attrs="{'readonly': ['|', ('freezing_states', '=', 'freez'), ('stages', 'not in', ['toc_syllabas'])]}">
                                                    <tree editable="bottom">
                                                        <field name="subject_id"
                                                               attrs="{'readonly': [('toc_stage', 'not in', ['draft','reject_by_tl'])]}"/>
                                                        <field name="toc_stage" invisible="1"/>
                                                        <field name="toc_doc" widget="binary"
                                                               attrs="{'readonly': [('toc_stage', 'not in', ['draft','reject_by_tl'])]}"/>
                                                        <field name="remarks"/>
                                                    </tree>
                                                </field>
                                            </sheet>
                                        </form>
                                    </page>
                                </notebook>
                                <notebook>
                                    <page string="Syllabus Development">
                                        <form>
                                            <header>
                                                <button name="action_syllabus_submitted" type="object"
                                                        class="btn-primary"
                                                        string="Submit"
                                                        attrs="{'invisible': ['|',('syllabus_stage', 'not in', ['draft','reject_by_tl']),('is_content_writer', '=', False)]}"
                                                        groups="course_frame.group_academy_content_writer"/>
                                                <button name="action_tl_syllabus_approve" type="object"
                                                        class="btn-primary"
                                                        string="Approve"
                                                        attrs="{'invisible': ['|',('syllabus_stage', 'not in', ['submitted_tl','reject_by_ah']),('is_team_lead', '=', False)]}"
                                                        groups="course_frame.group_academy_team_lead"/>
                                                <button name="action_tl_syllabus_reject" type="object"
                                                        class="btn-primary"
                                                        string="Reject"
                                                        attrs="{'invisible': ['|',('syllabus_stage', 'not in', ['submitted_tl','reject_by_ah']),('is_team_lead', '=', False)]}"
                                                        groups="course_frame.group_academy_team_lead"/>
                                                <button name="action_ah_syllabus_approve" type="object"
                                                        class="btn-primary"
                                                        string="Approve"
                                                        attrs="{'invisible': ['|',('syllabus_stage', 'not in', ['submitted_to_ah','rejected_by_dean']),('is_academic_head', '=', False)]}"
                                                        groups="course_frame.group_academy_academy_head"/>
                                                <button name="action_ah_syllabus_reject" type="object"
                                                        class="btn-primary"
                                                        string="Reject"
                                                        attrs="{'invisible': ['|',('syllabus_stage', 'not in', ['submitted_to_ah','rejected_by_dean']),('is_academic_head', '=', False)]}"
                                                        groups="course_frame.group_academy_academy_head"/>

                                                <button name="action_asso_dean_syllabus_approve" type="object"
                                                        class="btn-primary"
                                                        string="Approve"
                                                        attrs="{'invisible': ['|',('syllabus_stage', 'not in', ['submitted_dean','rejected_by_director']),('is_ass_dean', '=', False)]}"
                                                        groups="course_frame.group_academy_associate_dean"/>
                                                <button name="action_asso_dean_syllabus_reject" type="object"
                                                        class="btn-primary"
                                                        string="Reject"
                                                        attrs="{'invisible': ['|',('syllabus_stage', 'not in', ['submitted_dean','rejected_by_director']),('is_ass_dean', '=', False)]}"
                                                        groups="course_frame.group_academy_associate_dean"/>

                                                <button name="action_director_syllabus_approve" type="object"
                                                        class="btn-primary"
                                                        string="Approve"
                                                        attrs="{'invisible': ['|',('syllabus_stage', 'not in', ['submitted_director']),('is_managing_dir', '=', False)]}"
                                                        groups="course_frame.group_academy_director"/>
                                                <button name="action_director_syllabus_reject" type="object"
                                                        class="btn-primary"
                                                        string="Reject"
                                                        attrs="{'invisible': ['|',('syllabus_stage', 'not in', ['submitted_director']),('is_managing_dir', '=', False)]}"
                                                        groups="course_frame.group_academy_director"/>
                                                <field name="syllabus_stage" widget="statusbar" force_save="1"
                                                       statusbar_visible="draft,submitted_tl,submitted_to_ah,submitted_dean,submitted_director,approved"/>
                                            </header>
                                            <sheet>

                                                <field name="syllabus_lines"
                                                       attrs="{'readonly': ['|', ('freezing_states', '=', 'freez'), ('stages', 'not in', ['toc_syllabas'])]}">
                                                    <tree editable="bottom">
                                                        <field name="subject_id"
                                                               attrs="{'readonly': [('syllabus_stage', 'not in', ['draft','reject_by_tl'])]}"/>
                                                        <field name="syllabus_stage" invisible="1"/>
                                                        <field name="syllabus_doc" widget="binary"
                                                               attrs="{'readonly': [('syllabus_stage', 'not in', ['draft','reject_by_tl'])]}"/>
                                                        <field name="remarks"/>
                                                    </tree>
                                                </field>

                                            </sheet>
                                        </form>
                                    </page>
                                </notebook>


                            </page>
                            <page string="Course Re Development"
                                  attrs="{'invisible': [('stages', 'in', ['course_subject_selection','freasing_stage','toc_syllabas'])]}">
                                <notebook>
                                    <page string="Media Requests">
                                        <field name="media_request_lines" widget="one2many"
                                               attrs="{'readonly': ['|', ('freezing_states', '=', 'freez'), ('stages', 'not in', ['course_development'])]}">
                                            <tree string="Current Media Requests" decoration-primary="state == 'open'"
                                                  decoration-muted="state == 'close'" editable="bottom"
                                                  no_open="1" create="1" delete="1">
                                                <button name="action_open_media_request_form" type="object"
                                                        icon="fa-external-link" title="Open Contract"/>
                                                <field name="name"/>
                                                <field name="department_id"/>
                                                <field name="expected_date"/>
                                                <field name="dead_date"/>
                                                <field name="department_head_id"/>
                                                <field name="employee_id"/>
                                                <field name="state" widget="badge" decoration-info="state == 'draft'"
                                                       decoration-warning="state == 'assigned'"
                                                       decoration-success="state == 'approved'"/>
                                            </tree>
                                        </field>
                                    </page>
                                </notebook>
                                <notebook>
                                    <page string="Book Content">
                                        <field name="content_development_lines" widget="one2many"
                                               attrs="{'readonly': ['|', ('freezing_states', '=', 'freez'), ('stages', 'not in', ['course_development'])]}">
                                            <tree string="Book Content Development" decoration-primary="state == 'open'"
                                                  editable="bottom"
                                                  no_open="1" create="1" delete="1">
                                                <button name="action_open_content_development_form" type="object"
                                                        icon="fa-external-link" title="Open Contract"/>
                                                <field name="name"/>
                                                <field name="date"/>
                                                <field name="subject_id"/>
                                                <field name="unit_id"/>
                                                <field name="topic_id"/>
                                                <field name="stage_1" string="Book Format"/>
                                                <field name="stage_2" string="DTP Work"/>
                                                <field name="stage_3" string="Vetting"/>
                                                <field name="state" widget="badge"
                                                       decoration-info="state == 'content_book_format'"
                                                       decoration-warning="state == 'alignment_dtp_work'"
                                                       decoration-success="state == 'vetting_external'"/>
                                            </tree>
                                        </field>
                                    </page>
                                </notebook>
                            </page>
                        </notebook>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids"/>
                        <field name="activity_ids"/>
                        <field name="message_ids"/>
                    </div>
                </form>

            </field>
        </record>


        <record id="course_frame_act_window" model="ir.actions.act_window">
            <field name="name">Course Frame</field>
            <field name="res_model">course.frame</field>
            <field name="view_mode">kanban,tree,form</field>
        </record>

        <menuitem id="menu_op_course_main"
                  name="Courses"
                  parent="openeducat_core.menu_op_school_root"
                  sequence="21"/>


        <menuitem id="menu_course_frame_action"
                  name="Course Frame"
                  parent="menu_op_course_main"
                  action="course_frame_act_window" sequence="1"/>
    </data>
</odoo>