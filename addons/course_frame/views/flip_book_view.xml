<odoo>
    <data>
        <record model="ir.ui.view" id="view_flip_book_list">
            <field name="name">flip.book.list</field>
            <field name="model">flip.book</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="date"/>
                    <field name="name"/>
                    <field name="course_id" optional="show"/>
                    <field name="subject_id" optional="show"/>
                    <field name="unit_id" optional="hide"/>
                    <field name="topic_id" optional="hide"/>
                    <field name="content_developer_id" optional="hide"/>
                    <field name="user_id" optional="hide"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>

        <record model="ir.ui.view" id="view_flip_book_form">
            <field name="name">flip.book.form</field>
            <field name="model">flip.book</field>
            <field name="arch" type="xml">
                <form>
                    <header>
                        <button name="action_assign" type="object" class="btn-primary" string="Assign" states="draft"
                                groups="course_frame.group_academy_team_lead"/>
                        <button name="action_upload_pdf" type="object" class="btn-primary"
                                string="Upload"
                                attrs="{'invisible': ['|',('state', 'not in', ('assigned')), ('is_content_developer', '=', False)]}"/>
                        <button name="action_fb_generate" type="object" class="btn-primary" string="Generate FB"
                                attrs="{'invisible':['|',('state', 'not in', ('uploaded')),('is_content_developer', '=', False)]}"/>
                        <button name="action_regenerate" type="object" class="btn-primary" string="Regenerate"
                                attrs="{'invisible':[('state', 'not in', ('generated'))]}"/>

                        <field name="state" widget="statusbar" force_save="1"
                               statusbar_visible="draft,assigned,uploaded,generated"/>
                    </header>
                    <sheet>
                        <div class="oe_title mb24">
                            <label for="name" string="Name"/>
                            <h1>
                                <field name="name" readonly="1"/>
                            </h1>
                        </div>
                        <group>
                            <group>
                                <field name="course_id" attrs="{'readonly': [('state', 'not in', ['assigned'])],'required': [('state', 'in', ['assigned'])]}"/>
                                <field name="subject_id" attrs="{'readonly': [('state', 'not in', ['assigned'])],'required': [('state', 'in', ['assigned'])]}"/>
                                <field name="unit_id" attrs="{'readonly': [('state', 'not in', ['assigned'])],'required': [('state', 'in', ['assigned'])]}"/>
                                <field name="topic_id" attrs="{'readonly': [('state', 'not in', ['assigned'])],'required': [('state', 'in', ['assigned'])]}"/>
                                <field name="attachment_id" widget="many2many_binary" class="oe_inline" force_save="1"
                                       attrs="{'readonly': [('state', 'not in', ['assigned'])],'required': [('state', 'in', ['assigned'])]}"/>
                                <field name="url" attrs="{'required': [('state', 'in', ['uploaded'])]}"/>
                            </group>
                            <group>
                                <field name="date"/>
                                <field name="user_id" attrs="{'readonly': [('state', 'not in', ['draft'])]}"/>
                                <field name="content_developer_id" attrs="{'readonly': [('state', 'not in', ['draft'])]}"/>
                                <field name="company_id" />
                                <field name="api_code"/>
                                <field name="is_content_developer" invisible="1"/>
                            </group>
                            <group>
                                <field name="remark"/>
                            </group>
                        </group>
                        <group>
                                <field name="flip_book" widget="html" readonly="0"/>
                        </group>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids"/>
                        <field name="activity_ids"/>
                        <field name="message_ids"/>
                    </div>
                </form>
            </field>
        </record>

        <record model="ir.actions.act_window" id="flip_book_action_window">
            <field name="name">Flip Book Library</field>
            <field name="res_model">flip.book</field>
            <field name="view_mode">tree,form</field>
        </record>

        <menuitem id="menu_flip_book_library"
                  name="Flip Book Library"
                  parent="menu_op_course_main"
                  action="flip_book_action_window" sequence="4"/>
    </data>
</odoo>